language: none

build:
  pre_ci:
    - docker build -t superttd_rust .
  pre_ci_boot:
    image_name: superttd_rust
    image_tag: stable
    pull: true
    options: "-e HOME=/root"

  ci:
    - cargo build
    # TODO Add unit testing

integrations:
  notifications:
    - integrationName: email
      type: email
      on_success: change
      on_failure: always
      on_pull_request: never
